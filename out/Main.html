<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Main</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Main</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Main<span class="signature">()</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="Main"><span class="type-signature"></span>new Main<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    ====== High-level Steps ======
1. Receive a dataURL from image
2. Use AzureFaceAPIService.js to get the emotions
3. Decide on dominant emotion
4. Get song features of emotion from EmotionService.js
5. Get all user related songs from SpotifyService.js
6. Add song X to data
7. Pass data into KMean to get cluster results
8. Find song X in cluster
9. Get songs in cluster containing song X
10. Get desired number of songs (currently 30) if cluster has too much or too little
11. Return this.result (see this.setResults)
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Main.js.html">Main.js</a>, <a href="Main.js.html#line26">line 26</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="createMoodPlaylist"><span class="type-signature"></span>createMoodPlaylist<span class="signature">(tracks)</span><span class="type-signature"> &rarr; {Promise.&lt;never>}</span></h4>
    

    



<div class="description">
    Requires array of track URIs in format ["spotify:track:1ue7zm5TVVvmoQV8lK6K2H", ...]
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tracks</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">tracks in final result for user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Main.js.html">Main.js</a>, <a href="Main.js.html#line245">line 245</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - new playlist body from SpotifyService
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;never></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDesiredNumberSongs"><span class="type-signature"></span>getDesiredNumberSongs<span class="signature">(bestK, arrayOfSongIDS, map)</span><span class="type-signature"> &rarr; {Array.&lt;any>|*}</span></h4>
    

    



<div class="description">
    Returns desired number of songs
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bestK</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">ideal K value</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>arrayOfSongIDS</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">group of song IDs</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>map</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">mapping from kMean clustering</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Main.js.html">Main.js</a>, <a href="Main.js.html#line191">line 191</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;any></span>
|

<span class="param-type">*</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getRelevantSongs"><span class="type-signature"></span>getRelevantSongs<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;never>|Promise.&lt;(*|void)>}</span></h4>
    

    



<div class="description">
    Gets the relevant songs for current user based on kMeans clustering with dominant mood
Requires this.dataURL to be set
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Main.js.html">Main.js</a>, <a href="Main.js.html#line47">line 47</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;never></span>
|

<span class="param-type">Promise.&lt;(*|void)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getRelevantSongsTestingPurposes"><span class="type-signature"></span>getRelevantSongsTestingPurposes<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;never>|Promise.&lt;(*|void)>}</span></h4>
    

    



<div class="description">
    Gets relevant songs for current user based on kMeans clustering with dominant mood, for testing purposes
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Main.js.html">Main.js</a>, <a href="Main.js.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;never></span>
|

<span class="param-type">Promise.&lt;(*|void)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSongIDSFromCluster"><span class="type-signature"></span>getSongIDSFromCluster<span class="signature">(cluster)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Gets the song IDs of tracks in the cluster
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cluster</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">current group of clusters</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Main.js.html">Main.js</a>, <a href="Main.js.html#line176">line 176</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - array of song IDs
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSongIDsOfClusterContainingSongX"><span class="type-signature"></span>getSongIDsOfClusterContainingSongX<span class="signature">(clusters)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Returns an array of songIDs for the cluster that contains songX
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>clusters</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">current group of clusters</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Main.js.html">Main.js</a>, <a href="Main.js.html#line161">line 161</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - list of song IDs
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="printOutAllSongTitles"><span class="type-signature"></span>printOutAllSongTitles<span class="signature">(cluster)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Prints out all song titles
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cluster</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">current group of cluster</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Main.js.html">Main.js</a>, <a href="Main.js.html#line232">line 232</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setResults"><span class="type-signature"></span>setResults<span class="signature">(songIDs, audioFeatureData, mood, emotions)</span><span class="type-signature"> &rarr; {Promise.&lt;(T|void)>}</span></h4>
    

    



<div class="description">
    Sets the results for global access inside trackRouter.js
trackObjects = {{id: {track, audioFeatures}}, {id: {track, audioFeatures}}, {id: {track, audioFeatures}}, ...}
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>songIDs</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">list of track IDs</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>audioFeatureData</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">audio features for tracks</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mood</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">dominant mood</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>emotions</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">current user's emotions</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Main.js.html">Main.js</a>, <a href="Main.js.html#line136">line 136</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    of this format {tracks: trackObjects, userInfo: userInfoObject, mood: {dominantMood, {happiness: 0.8, sadness: 0.2}}}
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(T|void)></span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Main.html">Main</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Thu Dec 24 2020 12:45:46 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>